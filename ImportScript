pipeline {
    agent any
    parameters {
        string(
            defaultValue: '',
            description: 'Enter the Authorization Basic value',
            name: 'AuthorizationBasic'
        )
        string(
            defaultValue: '',
            description: 'Enter the Integration URL',
            name: 'IntegrationURL'
        )
        string(
            defaultValue: '',
            description: 'Enter the Integration File Name',
            name: 'IntegrationFile'
        )
    }
    stages {
        stage('Deploying an integration') {
            steps {
                bat '''
                curl --location "${params.IntegrationURL}" --header "Authorization: Basic ${params.AuthorizationBasic}" --form "file=@${params.IntegrationFile}"
                '''
                echo "AuthorizationBasic: ${params.AuthorizationBasic}"
                echo "IntegrationURL: ${params.IntegrationURL}"
                echo "IntegrationFile: ${params.IntegrationFile}"
            }
        }
    }
}
